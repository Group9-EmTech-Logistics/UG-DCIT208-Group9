# ===============================
# Server configuration
# ===============================
server.port=8080
server.servlet.context-path=/api

# ===============================
# Profiles
# ===============================
spring.profiles.active=${SPRING_PROFILES_ACTIVE:local}

# ===============================
# Local Development (H2)
# ===============================
spring.datasource.url=jdbc:h2:mem:emtechdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# H2 Console
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# ===============================
# PostgreSQL (for Docker / Production)
# These are overridden by environment variables in docker-compose.yml
# ===============================
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/emtechdb}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:emtech}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:emtech123}
spring.jpa.hibernate.ddl-auto=${SPRING_JPA_HIBERNATE_DDL_AUTO:update}
spring.jpa.show-sql=${SPRING_JPA_SHOW_SQL:true}

# ===============================
# JWT Configuration
# ===============================
jwt.secret=${JWT_SECRET:emtechLogisticsSecretKey2025}
jwt.expiration=86400000

# ===============================
# Actuator (Health/Info endpoints)
# ===============================
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always

# ===============================
# CORS configuration
# ===============================
cors.allowed-origins=http://localhost:3000,http://127.0.0.1:3000
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed-headers=*
cors.allow-credentials=true
